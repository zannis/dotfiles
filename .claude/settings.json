{
  "permissions": {
    "allow": [
      "Read(~/.claude/CLAUDE.md)",
      "Read(~/.claude/settings.json)",
      "Bash(cargo check:*)",
      "Bash(cargo build:*)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(find:*)",
      "WebFetch(domain:docs.rs)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)"
    ],
    "deny": [
      "Read(**/.env)",
      "Read(**/.env.*)",
      "Read(./secrets/**)"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "cat ~/.claude/CLAUDE.md"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "CMD=$(jq -r '.tool_input.command'); if echo \"$CMD\" | grep -qE '^cargo (check|clippy|test|build|c|t|b)'; then cargo fix --allow-dirty --allow-staged; elif echo \"$CMD\" | grep -qE '^cd .* && cargo (check|clippy|test|build|c|t|b)'; then DIR=$(echo \"$CMD\" | sed -E 's/^cd ([^ ]*) &&.*/\\1/'); cd \"$CLAUDE_PROJECT_DIR/$DIR\" && cargo fix --allow-dirty --allow-staged; fi"
          }
        ]
      }
    ]
  }
}
